setdiff(pipae,sensores)
length(setdiff(pipae,sensores))
pipae = "pipae7"
setdiff(pipae,sensores)
length(setdiff(pipae,sensores))
length(setdiff(pipae,sensores))!= 0
pipae = "pipae5"
length(setdiff(pipae,sensores))!= 0
length(setdiff(pipae,sensores))
############ pipae7 Tidy  ##########
pipae7 <-  import_pipae ("pipae7")
tail (pipae7)
import_pipae <-  function(pipae, concate=FALSE){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(7,3,1,2), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("não há sensores com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
if (concate==TRUE){
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par2", length(site$CO2))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par1", length(site$CO2))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Data = dmy (pipae_all$Data)
pipae_all$Hora = hms (pipae_all$Hora)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Hora),
D=day(pipae_all$Data),
M= month(pipae_all$Data),
Y= year(pipae_all$Data),
m=minute(pipae_all$Hora))
return (pipae_all)
}
pipae <- source[pipaes]
site <- read.csv(pipae, dec= ",")
names= colnames(site)
if ("Date" %in% names == FALSE){
colnames(site)[c(7,8)] <-  c("Date", "Time")
}
site$Date = dmy (site$Date)
site$Time = hms (site$Time)
site= site|>
mutate(H=hour(site$Time),
D=day(site$Date),
M= month(site$Date),
Y= year(site$Date),
m=minute(site$Time))
site$DateTime <- as.POSIXct(
paste(pipae7_co2$Date, pipae7_co2$Time),
format = "%Y-%m-%d %HH %MM %SS")
return(site)
}
############ pipae7 Tidy  ##########
pipae7 <-  import_pipae ("pipae7")
import_pipae <-  function(pipae, concate=FALSE){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(7,3,1,2), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("não há sensores com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
if (concate==TRUE){
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par2", length(site$CO2))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par1", length(site$CO2))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Data = dmy (pipae_all$Data)
pipae_all$Hora = hms (pipae_all$Hora)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Hora),
D=day(pipae_all$Data),
M= month(pipae_all$Data),
Y= year(pipae_all$Data),
m=minute(pipae_all$Hora))
return (pipae_all)
}
pipae <- source[pipaes]
site <- read.csv(pipae, dec= ",")
names= colnames(site)
if ("Date" %in% names == FALSE){
colnames(site)[c(7,8)] <-  c("Date", "Time")
}
site$Date = dmy (site$Date)
site$Time = hms (site$Time)
site= site|>
mutate(H=hour(site$Time),
D=day(site$Date),
M= month(site$Date),
Y= year(site$Date),
m=minute(site$Time))
site$DateTime <- as.POSIXct(
paste(site$Date, site$Time),
format = "%Y-%m-%d %HH %MM %SS")
return(site)
}
############ pipae7 Tidy  ##########
pipae7 <-  import_pipae ("pipae7")
tail (pipae7)
pipae2 <-  import_pipae ("pipae2")
head (pipae2)
pipae7_co2 <- pipae2 [, - c(3:5,7:16)]
pipae7_co2 <- pipae7_co2 [pipae7_co2$D==13,]
pipae7_co2 <- na.omit (pipae7_co2)
head (pipae7_co2)
plot (CO2.Concentration ~ DateTime,
data=pipae7_co2, type = "p",
xlab="Hour",
ylab = expression (CO[2] ~ "(ppm)"),
ylim=c(100,600), xaxt="n")
axis.POSIXct(1,
at =seq(min(pipae7_co2$DateTime),
max(pipae7_co2$DateTime),
by = "hour"),
format = "%H",
las = 1)
par(mfrow = c(1,1), bty ="n", bg = "grey99" )
plot (CO2.Concentration ~ DateTime,
data=pipae7_co2, type = "p",
xlab="Hour",
ylab = expression (CO[2] ~ "(ppm)"),
ylim=c(200,400), xaxt="n")
0
par(mfrow = c(1,1), bty ="n", bg = "grey99" )
plot (CO2.Concentration ~ DateTime,
data=pipae7_co2, type = "p",
xlab="Hour",
ylab = expression (CO[2] ~ "(ppm)"),
ylim=c(250,350), xaxt="n")
axis.POSIXct(1,
at =seq(min(pipae7_co2$DateTime),
max(pipae7_co2$DateTime),
by = "hour"),
format = "%H",
las = 1)
pipae7_co2 <- pipae7_co2 [pipae7_co2$D==12,]
pipae7_co2 <- pipae2 [, - c(3:5,7:16)]
pipae7_co2 <- pipae7_co2 [pipae7_co2$D==12,]
pipae7_co2 <- na.omit (pipae7_co2)
par(mfrow = c(1,1), bty ="n", bg = "grey99" )
plot (CO2.Concentration ~ DateTime,
data=pipae7_co2, type = "p",
xlab="Hour",
ylab = expression (CO[2] ~ "(ppm)"),
ylim=c(250,350), xaxt="n")
axis.POSIXct(1,
at =seq(min(pipae7_co2$DateTime),
max(pipae7_co2$DateTime),
by = "hour"),
format = "%H",
las = 1)
pipae7_co2 <- pipae2 [, - c(3:5,7:16)]
pipae7_co2 <- pipae7_co2 [pipae7_co2$D==13,]
pipae7_co2 <- na.omit (pipae7_co2)
par(mfrow = c(1,1), bty ="n", bg = "grey99" )
plot (CO2.Concentration ~ DateTime,
data=pipae7_co2, type = "p",
xlab="Hour",
ylab = expression (CO[2] ~ "(ppm)"),
ylim=c(250,350), xaxt="n")
axis.POSIXct(1,
at =seq(min(pipae7_co2$DateTime),
max(pipae7_co2$DateTime),
by = "hour"),
format = "%H",
las = 1)
############ pipae7 Tidy  ##########
pipae7 <-  import_pipae ("pipae7")
source("Loadpackges.R")
source("Function_tratamento_pipae.R")
pipae3 <-  import_pipae ("pipae3")
pipae2 <-  import_pipae ("pipae2")
tail (pipae2)
pipae1 <-  import_pipae ("pipae1")
tail (pipae1)
pipae2 <-  import_pipae ("pipae2")
tail (pipae2)
source("Loadpackges.R")
source("Function_tratamento_pipae.R")
pipae7 <-  import_pipae ("pipae7")
tail (pipae7)
pipae2 <-  import_pipae ("pipae2")
tail (pipae2)
pipae1 <-  import_pipae ("pipae1")
tail (pipae1)
getwd ()
############ pipae7 Tidy  ##########
pipae7 <-import_pipae ("pipae7")
source("Loadpackges.R")
source("Function_tratamento_pipae.R")
############ pipae7 Tidy  ##########
pipae7 <-import_pipae ("pipae7")
tail (pipae7)
pipae2 <-  import_pipae ("pipae2")
pipae1 <-  import_pipae ("pipae1")
tail (pipae1)
pipae2 <-  import_pipae ("pipae2")
import_pipae <-  function(pipae, concate=FALSE){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae8"="https://docs.google.com/spreadsheets/d/e/2PACX-1vRezDFvNifmWuJUoVIIhyazBaD281lsr4qeV3EWROGEUH8CDBD01riMOWMfDbsPH0Z8wFkEmtQRbfEC/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(7,8,3,1,2), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("não há sensores com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
if (concate==TRUE){
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par2", length(site$CO2))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par1", length(site$CO2))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Data = dmy (pipae_all$Data)
pipae_all$Hora = hms (pipae_all$Hora)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Hora),
D=day(pipae_all$Data),
M= month(pipae_all$Data),
Y= year(pipae_all$Data),
m=minute(pipae_all$Hora))
return (pipae_all)
}
pipae <- source[pipaes]
site <- read.csv(pipae, dec= ",")
names= colnames(site)
if ("Date" %in% names == FALSE){
colnames(site)[c(7,8)] <-  c("Date", "Time")
}
site$Date = dmy (site$Date)
site$Time = hms (site$Time)
site= site|>
mutate(H=hour(site$Time),
D=day(site$Date),
M= month(site$Date),
Y= year(site$Date),
m=minute(site$Time))
site$DateTime <- as.POSIXct(
paste(site$Date, site$Time),
format = "%Y-%m-%d %HH %MM %SS")
return(site)
}
pipae2 <-  import_pipae ("pipae2")
pipae2 <-  import_pipae ("pipae2")
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae7_days_20_31 <- get_data_by_month(pipae7,
month=12,
days= c(20:31))
pipae1_days_20_31 <- get_data_by_month(pipae1,
month=12,
days= c(20:31))
write.csv(pipae7_days_20_31, "pipae7_days_20_31.csv")
?write.csv
write.csv(pipae7_days_20_31, "pipae7_days_20_31.csv",
sep = "\t")
write.csv(pipae7_days_20_31, "pipae7_days_20_31.csv",
sep = "/t")
write.csv(pipae7_days_20_31, "pipae7_days_20_31.csv",
sep = " ")
write.csv(pipae7_days_20_31, "pipae7_days_20_31.csv",
sep = " ", row.names = FALSE)
write.csv(pipae7_days_20_31, "pipae7_days_20_31.csv",
sep = " ", row.names = FALSE, dec= ",")
write.table(pipae7_days_20_31, "pipae7_days_20_31.csv",
sep = " ", row.names = FALSE, dec= ",")
write.table(pipae7_days_20_31, "pipae7_days_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
write.table(pipae1_days_20_31, "pipae1_days_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
write.table(pipae7_days_20_31, "pipae7_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
write.table(pipae1_days_20_31, "pipae1_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
pipae2 <-  import_pipae ("pipae2")
pipae2 <-  import_pipae ("pipae2")
pipae = "pipae2"
sensores <- paste("pipae", c(7,8,3,1,2), sep="")
sensores
pipaes <- match(pipae, sensores)
pipae = "pipae2"
pipaes <- match(pipae, sensores)
pipaes
import_pipae <-  function(pipae, concate=FALSE){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae8"="https://docs.google.com/spreadsheets/d/e/2PACX-1vRezDFvNifmWuJUoVIIhyazBaD281lsr4qeV3EWROGEUH8CDBD01riMOWMfDbsPH0Z8wFkEmtQRbfEC/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(7,8,1,2), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("não há sensores com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
if (concate==TRUE){
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par2", length(site$CO2))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2))
site$parcela = rep ("par1", length(site$CO2))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Data = dmy (pipae_all$Data)
pipae_all$Hora = hms (pipae_all$Hora)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Hora),
D=day(pipae_all$Data),
M= month(pipae_all$Data),
Y= year(pipae_all$Data),
m=minute(pipae_all$Hora))
return (pipae_all)
}
pipae <- source[pipaes]
site <- read.csv(pipae, dec= ",")
names= colnames(site)
if ("Date" %in% names == FALSE){
colnames(site)[c(7,8)] <-  c("Date", "Time")
}
site$Date = dmy (site$Date)
site$Time = hms (site$Time)
site= site|>
mutate(H=hour(site$Time),
D=day(site$Date),
M= month(site$Date),
Y= year(site$Date),
m=minute(site$Time))
site$DateTime <- as.POSIXct(
paste(site$Date, site$Time),
format = "%Y-%m-%d %HH %MM %SS")
return(site)
}
pipae2 <-  import_pipae ("pipae2")
pipae2_days_20_31 <- get_data_by_month(pipae2,
month=12,
days= c(20:31))
write.table(pipae2_days_20_31, "pipae2_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
separate_variable
##
pipae7_co2 = separate_variable(pipae7,
var= "co2",
na.rm = TRUE)# as example
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae7_days_20_31 <- get_data_by_month(pipae7_co2,
month=12,
days= c(20:31))
##
pipae7_co2 = separate_variable(pipae7,
var= "co2",
na.rm = TRUE)# as example
pipae7_temp = separate_variable(pipae7,
var= "temperatura ",
na.rm = TRUE)
pipae7_umi = separate_variable(pipae7,
var= "umidade",
na.rm = TRUE)
pipae7_temp = separate_variable(pipae7,
var= "temperatura",
na.rm = TRUE)
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae7_days_20_31 <- get_data_by_month(pipae7_co2,
month=12,
days= c(20:31))
write.table(pipae7_days_20_31, "pipae7_co2_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae7_days_20_31 <- get_data_by_month(pipae7_temp,
month=12,
days= c(20:31))
write.table(pipae7_days_20_31, "pipae7_temp_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
pipae7_umi = separate_variable(pipae7,
var= "umidade",
na.rm = TRUE)
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae7_days_20_31 <- get_data_by_month(pipae7_umi,
month=12,
days= c(20:31))
write.table(pipae7_days_20_31, "pipae7_umi_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
##
pipae1_co2 = separate_variable(pipae1,
var= "co2",
na.rm = TRUE)# as example
pipae1_temp = separate_variable(pipae1,
var= "temperatura",
na.rm = TRUE)
pipae1_umi = separate_variable(pipae1,
var= "umidade",
na.rm = TRUE)
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae1_days_20_31 <- get_data_by_month(pipae1_umi,
month=12,
days= c(20:31))
write.table(pipae1_days_20_31, "pipae1_umi_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae1_days_20_31 <- get_data_by_month(pipae1_co2,
month=12,
days= c(20:31))
write.table(pipae1_days_20_31, "pipae1_co2_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae1_days_20_31 <- get_data_by_month(pipae1_temp,
month=12,
days= c(20:31))
write.table(pipae1_days_20_31, "pipae1_temp_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
##
pipae2_co2 = separate_variable(pipae2,
var= "co2",
na.rm = TRUE)# as example
pipae2_temp = separate_variable(pipae2,
var= "temperatura",
na.rm = TRUE)
pipae2_umi = separate_variable(pipae2,
var= "umidade",
na.rm = TRUE)
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae2_days_20_31 <- get_data_by_month(pipae2_temp,
month=12,
days= c(20:31))
write.table(pipae2_days_20_31, "pipae2_temp_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae2_days_20_31 <- get_data_by_month(pipae2_co2,
month=12,
days= c(20:31))
write.table(pipae2_days_20_31, "pipae2_co2_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
#pipae8_dia26$CO2 <- c(pipae8_dia26$CO2 +200)
pipae2_days_20_31 <- get_data_by_month(pipae2_umi,
month=12,
days= c(20:31))
write.table(pipae2_days_20_31, "pipae2_umi_december_20_31.csv",
sep = "\t", row.names = FALSE, dec= ",")
